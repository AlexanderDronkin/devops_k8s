<h1>
    Kubernetes Stage Environment
    <img src="https://img.shields.io/badge/2.1.0-green">
</h1> 

Stage окружение в k8s. Старая версия, очень урезанная по соображениям безопасности.

Место для всего, что относится к контейнерам, докерам, куберам и облакам. 
- `kustomize` - манифесты k8s кластеров для автоматической установки
- `secrets` - токены, список нужных токенов внутри
- `hack` - скрипты упрощающие жизнь
- `assets` - свалка для картинок (не мемасы!), файлов и всего, чему не нашлось логического места в других папках

#### Make clouds
Скрипты автоматизации и сборки приложений в Makefile. Для всего, что вы хотели бы `make` ... 

# Локальный кластер в 4 команды
Подойдет чистый дистрибутив ubuntu. Можно развернуть кластер виртуалке, нужно будет настроить внешний интернет. Возможно нужен будет docker или какое-то другое ПО дополнительно.
Порядок:
- `hack/install-k8s.sh` - запустите установку нужного ПО
- `hack/k0s.sh` - удаление текущего и установка нового кластера
- `hack/sslgen.sh` - сгенерируйте сертификаты, можно добавить в браузер

Настройте flux или скопируйте кластер. Для этого в папке кластера, например `kustomize/web`, выполните команду:
- `kubectl apply -k .`

Опционально:
- `hack/install-scope.sh` - установка WeaveScope

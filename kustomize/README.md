![Clouds](/assets/cloud.png) 
### Облака
- `base` - для всех серверов
- `dargindesktop` - локальная среда (Дронкин А.)

### Деплои
- `.flux` - настройки движка Flux для автоматического деплоя в облако при изменении репозитория
- `freshdb` - mysql база с дампом старого сайта и автоматическим обновлением
- `metalapi` - апишка на голом nginx для разделения backend от frontend
- `zoo` - тестовые площадки под каждую ветку
- `gitlab-runner` - раннер гитлаба для сборки приложения в pipline'ах
- `nginx-ingress` - сервер nginx для маршрутизации трафика внутри кластера, по умолчанию имеет доступ к внешним портам

### Kustomize
**Kustomize** - это лютый ебаный ад с синтаксисом полным боли для генерации k8s конфигов, но очень гибкий и максимально приближен к исходнику. Устанавливается отдельно и тогда можно генерировать конфиги командой `kustomize build .` или сразу использовать `kubectl apply -k .`. Если вам не повезет узнать его поближе, то вы сможете с легкостью настраивать автоматические деплои под разные среды, но если же вы считаете, что ваши нервы вам дороже, то команды `kustomize init --autodetect` будет достаточно на все случаи жизни. Она генерирует файл kustomize и позволяет задеплоить все конфиги в папке за один раз. Для тех же кто вообще не хочет марать свою консоль непонятными командами у нас есть `helm` чарты.